# JUGO前端小说创作编辑页设计方案稿

[TOC]

<style>
  h1 {
    counter-reset: h2
  }
  h2 {
    counter-reset: h3
  }
  h3 {
    counter-reset: h4
  }
  h4 {
    counter-reset: h5
  }
  h5 {
    counter-reset: h6
  }
  h2:before {
    counter-increment: h2;
    content: counter(h2) ". "
  }
  h3:before {
    counter-increment: h3;
    content: counter(h2) "." counter(h3) ". "
  }
  h4:before {
    counter-increment: h4;
    content: counter(h2) "." counter(h3) "." counter(h4) ". "
  }
  h5:before {
    counter-increment: h5;
    content: counter(h2) "." counter(h3) "." counter(h4) "." counter(h5) ". "
  }
  h6:before {
    counter-increment: h6;
    content: counter(h2) "." counter(h3) "." counter(h4) "." counter(h5) "." counter(h6) ". "
  }
</style>

<br>

## 页面定位
小说创作编辑页是核心创作场景，需要支持长文本编辑（10万+字）、分章管理、AI辅助创作、实时预览等功能，兼顾流畅性与专业性。

## 布局结构（PC端三栏布局）

**左侧设置区（宽度280px，可折叠）**

*基础信息模块*
- 作品标题输入框（可编辑，自动保存）
- 主题输入框（描述小说的核心主题，如"复仇与救赎"）
- 类型选择（单选下拉框，如"都市/玄幻/言情/悬疑/科幻"）
- 章节数输入框（数字输入，默认20章，范围10-50章）
- 单章字数输入框（数字输入，默认1500字，范围800-3000字）
- 字数统计（实时更新，如"当前12.5万字"）

*章节管理模块*
- 章节列表（树形结构，支持拖拽排序）
  - 显示章节标题+字数（如"第一章 开端 3200字"）
  - 点击章节 → 编辑区跳转到对应章节
  - 右键菜单：[重命名] [删除] [插入新章节] [合并章节]
- 底部按钮：[新建章节] [批量管理]

*AI辅助模块*
- [大纲生成]：基于当前内容生成后续大纲
- [角色管理]：添加/编辑角色信息（姓名/性格/关系），AI自动提取

*雪花写作法引导（可选展开）*
- 步骤1：核心概括（一句话概括故事）
- 步骤2：扩展大纲（三幕结构）
- 步骤3：角色设定（主要角色卡片）
- 步骤4：正文创作（跳转编辑区）
- 进度条显示当前完成步骤

**中间编辑区（主体区域，最大化）**

*顶部工具栏（高度50px）*
- 左侧：格式工具（加粗/斜体/下划线/标题/引用/列表）
- 中间：AI快捷功能（[续写] [润色] [扩写] [改写]，橙色#F59E0B）
- 右侧：[保存]（绿色） [导出]（蓝色） [预览]（灰色）
- 自动保存提示（右上角，显示"已保存"或"保存中..."）

*编辑区主体*
- 富文本编辑器（支持markdown快捷输入）
- 行号显示（左侧，便于定位）
- 字数统计（底部状态栏，实时更新"当前章节2300字"）
- 选中文字 → 右键快捷菜单（[续写] [润色] [删除] [复制] [AI改写]）
- 长文本优化：分段加载，滚动到底部自动加载下一章节
- 专注模式：点击[专注]按钮，隐藏左右侧栏，编辑区全屏

*AI生成提示区（编辑区底部，可展开）*
- 显示AI生成进度（如"AI续写中...30%"）
- 生成完成后显示内容预览，用户可选择[接受] [重新生成] [编辑后接受]

**右侧预览区（宽度320px，可折叠）**

*实时预览模块*
- 显示当前章节的阅读效果（模拟小说阅读器样式）
- 字体/行距可调节，便于查看排版效果
- 底部按钮：[全屏预览] [导出预览]

*问题提示模块*
- AI自动检测内容问题（如"第3章出现角色名不一致""第5章情节与第2章矛盾"）
- 点击问题 → 编辑区跳转到对应位置，高亮显示
- 问题类型：逻辑矛盾/角色错误/语法错误/重复内容

*创作建议模块*
- 根据当前内容，AI提供创作建议（如"可以增加角色冲突""节奏偏慢，建议加快"）
- 点击建议 → 展开详细说明+参考案例

## 核心交互逻辑

*AI续写流程*
1. 用户点击[续写]按钮或选中文字后右键选择[续写]
2. 弹窗选择续写方式（智能续写/按大纲续写/自定义提示词）
3. 显示生成进度条+预计时间（如"生成中...预计30秒"）
4. 生成完成后，内容插入编辑区，高亮显示，用户可编辑或删除
5. 右侧预览区同步更新

*章节切换流程*
1. 左侧章节列表点击章节 → 编辑区平滑滚动到对应章节
2. 编辑区滚动 → 左侧章节列表自动高亮当前章节
3. 切换章节时，自动保存当前章节内容

*导出流程*
1. 点击[导出]按钮 → 弹窗选择导出格式（txt/docx/pdf/epub）
2. 选择导出范围（全部章节/选中章节/当前章节）
3. 显示导出进度条 → 完成后自动下载文件

## 响应式适配
- 平板端：左侧设置区与右侧预览区合并为可切换标签页，编辑区占据主体
- 手机端：单栏布局，编辑区全屏，工具栏简化为核心功能，章节管理/预览通过底部标签切换
