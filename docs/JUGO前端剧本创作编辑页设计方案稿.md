# JUGO前端剧本创作编辑页设计方案稿

[TOC]

<style>
  h1 {
    counter-reset: h2
  }
  h2 {
    counter-reset: h3
  }
  h3 {
    counter-reset: h4
  }
  h4 {
    counter-reset: h5
  }
  h5 {
    counter-reset: h6
  }
  h2:before {
    counter-increment: h2;
    content: counter(h2) ". "
  }
  h3:before {
    counter-increment: h3;
    content: counter(h2) "." counter(h3) ". "
  }
  h4:before {
    counter-increment: h4;
    content: counter(h2) "." counter(h3) "." counter(h4) ". "
  }
  h5:before {
    counter-increment: h5;
    content: counter(h2) "." counter(h3) "." counter(h4) "." counter(h5) ". "
  }
  h6:before {
    counter-increment: h6;
    content: counter(h2) "." counter(h3) "." counter(h4) "." counter(h5) "." counter(h6) ". "
  }
</style>

<br>

## 页面定位
剧本创作编辑页需要支持专业剧本格式（场景/角色/台词/动作），符合行业规范，同时提供AI辅助分镜、角色对话生成等功能。

## 布局结构（PC端三栏布局）

**左侧设置区（宽度280px，可折叠）**

*基础信息模块*
- 剧本标题输入框
- 类型标签（短剧/电影/话剧/网剧）
- 时长预估（根据剧本内容自动计算，如"预计时长45分钟"）
- 场景数统计（如"共15个场景"）

*场景管理模块*
- 场景列表（树形结构，支持拖拽排序）
  - 显示场景编号+场景名（如"场景1：咖啡厅-白天-内景"）
  - 点击场景 → 编辑区跳转到对应场景
  - 右键菜单：[重命名] [删除] [插入新场景] [复制场景]
- 底部按钮：[新建场景] [场景模板库]（提供常见场景模板）

*角色管理模块*
- 角色列表（显示角色名+出场次数）
- 点击角色 → 显示角色详情（性格/关系/台词统计）
- 底部按钮：[添加角色] [角色关系图]（可视化展示角色关系）

*AI辅助模块*
- [分镜生成]：基于剧本内容生成分镜脚本
- [对话优化]：优化角色对话，使其更符合角色性格
- [冲突建议]：AI分析剧本冲突点，提供增强建议

**中间编辑区（主体区域，专业剧本格式）**

*顶部工具栏（高度50px）*
- 左侧：剧本格式工具（[场景] [角色] [台词] [动作] [旁白]，快捷插入）
- 中间：AI快捷功能（[续写对话] [生成动作] [场景描述]）
- 右侧：[保存] [导出] [预览]

*编辑区主体（等宽字体Courier New）*
- 剧本格式示例：
  ```
  场景1：咖啡厅-白天-内景

  [镜头：全景，咖啡厅内部，顾客稀少]

  角色：李明（男主，28岁，程序员）
  台词：（看着手机，焦虑）她怎么还没来？

  动作：李明不停看表，手指敲击桌面

  角色：王芳（女主，26岁，设计师）
  台词：（推门进入，微笑）不好意思，路上堵车了。
  ```
- 格式自动对齐：输入"场景"/"角色"/"台词"等关键词，自动应用对应格式
- 行号显示（左侧，便于定位）
- 选中文字 → 右键快捷菜单（[续写对话] [优化台词] [删除] [格式转换]）

*AI生成提示区（编辑区底部）*
- 显示AI生成进度（如"生成对话中...20%"）
- 生成完成后显示内容预览，用户可选择[接受] [重新生成] [编辑后接受]

**右侧预览区（宽度320px，可折叠）**

*分镜预览模块*
- 显示当前场景的分镜脚本（镜头/景别/运动/时长）
- 支持手动编辑分镜信息
- 底部按钮：[导出分镜表]

*时长统计模块*
- 显示当前场景预估时长（根据台词字数+动作描述自动计算）
- 显示全剧预估时长
- 时长过长/过短时显示提示（如"当前场景时长8分钟，建议控制在5分钟内"）

*问题提示模块*
- AI自动检测剧本问题（如"场景3角色台词过长""场景5缺少冲突点"）
- 点击问题 → 编辑区跳转到对应位置

## 核心交互逻辑

*剧本格式快捷输入*
1. 输入"场景"+ Tab键 → 自动生成场景格式模板"场景X：[地点]-[时间]-[内/外景]"
2. 输入"角色"+ Tab键 → 自动生成角色格式模板"角色：[角色名]"
3. 输入"台词"+ Tab键 → 自动生成台词格式模板"台词：[内容]"
4. 输入"动作"+ Tab键 → 自动生成动作格式模板"动作：[描述]"

*AI对话生成流程*
1. 选中角色名 → 点击[续写对话]
2. 弹窗选择对话风格（正式/幽默/紧张/温馨）
3. AI生成对话 → 插入编辑区，用户可编辑
4. 右侧预览区同步更新时长统计

*场景切换流程*
1. 左侧场景列表点击场景 → 编辑区跳转到对应场景
2. 编辑区滚动 → 左侧场景列表自动高亮当前场景

*导出流程*
1. 点击[导出]按钮 → 弹窗选择导出格式（标准剧本格式docx/pdf/Final Draft格式）
2. 选择导出内容（剧本正文/剧本+分镜表/剧本+角色表）
3. 显示导出进度条 → 完成后自动下载文件

## 响应式适配
- 平板端：左侧设置区与右侧预览区合并为可切换标签页，编辑区占据主体
- 手机端：单栏布局，编辑区全屏，格式工具简化为快捷按钮，场景管理/预览通过底部标签切换
